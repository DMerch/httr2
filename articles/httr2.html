<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>httr2 • httr2</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="httr2">
<meta property="og:description" content="httr2">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">httr2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/httr2.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/articles/oauth.html">oauth</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/r-lib/httr2/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="httr2_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>httr2</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-lib/httr2/blob/master/vignettes/httr2.Rmd"><code>vignettes/httr2.Rmd</code></a></small>
      <div class="hidden name"><code>httr2.Rmd</code></div>

    </div>

    
    
<p>The goal of this document is to get you up and running with httr2 as quickly as possible. httr2 is designed to map closely to the underlying HTTP protocol. I’ll try and explain the basics in this intro, but I’d also recommend “<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview">An overview of HTTP</a>” from MDN.</p>
<p>There are two important parts to HTTP: the <strong>request</strong>, the data sent to the server, and the <strong>response</strong>, the data sent back from the server.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://httr2.r-lib.org">httr2</a></span><span class="op">)</span></code></pre></div>
<div id="create-a-request" class="section level2">
<h2 class="hasAnchor">
<a href="#create-a-request" class="anchor"></a>Create a request</h2>
<p>In httr2, you start by creating a request. This is quite different to httr, where you could only submit a request, immediately receiving a response. Having an explicit request object makes it easier to built up a complex request piece by piece, and works well with the pipe.</p>
<p>The simplest request just needs a url:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">req</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/request.html">request</a></span><span class="op">(</span><span class="st">"http://httpbin.org/get"</span><span class="op">)</span>
<span class="va">req</span>
<span class="co">#&gt; &lt;httr2_request&gt;</span>
<span class="co">#&gt; GET http://httpbin.org/get</span></code></pre></div>
<p>We can see exactly what this message this request will send to the server by performing a dry run:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">req</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="../reference/req_dry_run.html">req_dry_run</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; GET /get HTTP/1.1</span>
<span class="co">#&gt; Host:httpbin.org</span>
<span class="co">#&gt; User-Agent: httr2/0.0.0.9000 r-curl/4.3.1 libcurl/7.64.1</span>
<span class="co">#&gt; Accept: */*</span>
<span class="co">#&gt; Accept-Encoding: deflate, gzip</span></code></pre></div>
<p>The first line of the request contains three important pieces of information:</p>
<ul>
<li><p>The HTTP <strong>method</strong>, which a verb telling the server what action you want to perform. Here’s its GET, indicating that we want to get some data.</p></li>
<li><p>The <strong>path</strong> which is the url stripped of all information that server already knows: the protocol (http), the domain or host (httpbin.org) and the port (not used here).</p></li>
<li><p>The version of the HTTP protocol.</p></li>
</ul>
<p>The following lines consistent of name-value pairs separated by “:”. These are called the HTTP <strong>headers</strong>. These headers are automatically added by httr2; if you want to add your own, you can use <code><a href="../reference/req_headers.html">req_headers()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">req</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/req_headers.html">req_headers</a></span><span class="op">(</span>Name <span class="op">=</span> <span class="st">"Hadley"</span>, `Shoe-Size` <span class="op">=</span> <span class="st">"11"</span><span class="op">)</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/req_dry_run.html">req_dry_run</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; GET /get HTTP/1.1</span>
<span class="co">#&gt; Host:httpbin.org</span>
<span class="co">#&gt; User-Agent: httr2/0.0.0.9000 r-curl/4.3.1 libcurl/7.64.1</span>
<span class="co">#&gt; Accept: */*</span>
<span class="co">#&gt; Accept-Encoding: deflate, gzip</span>
<span class="co">#&gt; Name: Hadley</span>
<span class="co">#&gt; Shoe-Size: 11</span></code></pre></div>
<p>HTTP servers will ignore headers that they don’t understand.</p>
<p>The headers are finished up by a blank line which is followed by the <strong>body</strong>. The requests above (like all GET requests) don’t have a body, so let’s see what happens if we add one. Here we’ll use <code><a href="../reference/req_body_none.html">req_body_json()</a></code> to add some data encoded as JSON:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">req</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/req_body_none.html">req_body_json</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span>, y <span class="op">=</span> <span class="st">"a"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/req_dry_run.html">req_dry_run</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; POST /get HTTP/1.1</span>
<span class="co">#&gt; Host:httpbin.org</span>
<span class="co">#&gt; User-Agent: httr2/0.0.0.9000 r-curl/4.3.1 libcurl/7.64.1</span>
<span class="co">#&gt; Accept: */*</span>
<span class="co">#&gt; Accept-Encoding: deflate, gzip</span>
<span class="co">#&gt; Content-Type: application/json</span>
<span class="co">#&gt; Content-Length: 15</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; {"x":1,"y":"a"}</span></code></pre></div>
<p>What’s changed?</p>
<ul>
<li><p>The method has changed from GET to POST. POST is the standard method for sending data to a website. You can use other methods with <code><a href="../reference/req_method.html">req_method()</a></code>.</p></li>
<li><p>We have two new headers, <code>Content-Type</code> and <code>Content-Length</code> which tell the server how to interpret the body — it’s going to be 15 bytes long and is encoded as JSON.</p></li>
<li><p>We have a body, consisting of some JSON.</p></li>
</ul>
<p>Different sites need data stored in different formats so httr2 provides a selection of common data types:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">req</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span>
  <span class="fu"><a href="../reference/req_body_none.html">req_body_form</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span>, y <span class="op">=</span> <span class="st">"a"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/req_dry_run.html">req_dry_run</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; POST /get HTTP/1.1</span>
<span class="co">#&gt; Host:httpbin.org</span>
<span class="co">#&gt; User-Agent: httr2/0.0.0.9000 r-curl/4.3.1 libcurl/7.64.1</span>
<span class="co">#&gt; Accept: */*</span>
<span class="co">#&gt; Accept-Encoding: deflate, gzip</span>
<span class="co">#&gt; Content-Type: application/x-www-form-urlencoded</span>
<span class="co">#&gt; Content-Length: 7</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; x=1&amp;y=a</span></code></pre></div>
<p>If you need to send data encoded differently, you can use <code>req_body_string()</code> or <code><a href="../reference/req_body_none.html">req_body_raw()</a></code> to add the raw data to the body, and <code>req_header()</code> to set the <code>Content-Type</code> header to the appropriate type.</p>
</div>
<div id="performing-a-request-and-fetch-the-response" class="section level2">
<h2 class="hasAnchor">
<a href="#performing-a-request-and-fetch-the-response" class="anchor"></a>Performing a request and fetch the response</h2>
<p>To actually perform a request and fetch the response back, you’ll use <code><a href="../reference/req_fetch.html">req_fetch()</a></code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">req</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/request.html">request</a></span><span class="op">(</span><span class="st">"https://httpbin.org/json"</span><span class="op">)</span>
<span class="va">resp</span> <span class="op">&lt;-</span> <span class="va">req</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="../reference/req_fetch.html">req_fetch</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">resp</span>
<span class="co">#&gt; &lt;httr2_response&gt;</span>
<span class="co">#&gt; GET https://httpbin.org/json</span>
<span class="co">#&gt; Status: 200 OK</span>
<span class="co">#&gt; Content-Type: application/json</span>
<span class="co">#&gt; Body: In memory (429 bytes)</span></code></pre></div>
<p>You can see a simulation of what httr2 actually received with <code><a href="../reference/resp_raw.html">resp_raw()</a></code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">resp</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="../reference/resp_raw.html">resp_raw</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; HTTP/1.1 200 OK</span>
<span class="co">#&gt; date: Sat, 12 Jun 2021 05:04:53 GMT</span>
<span class="co">#&gt; content-type: application/json</span>
<span class="co">#&gt; content-length: 429</span>
<span class="co">#&gt; server: gunicorn/19.9.0</span>
<span class="co">#&gt; access-control-allow-origin: *</span>
<span class="co">#&gt; access-control-allow-credentials: true</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; {</span>
<span class="co">#&gt;   "slideshow": {</span>
<span class="co">#&gt;     "author": "Yours Truly", </span>
<span class="co">#&gt;     "date": "date of publication", </span>
<span class="co">#&gt;     "slides": [</span>
<span class="co">#&gt;       {</span>
<span class="co">#&gt;         "title": "Wake up to WonderWidgets!", </span>
<span class="co">#&gt;         "type": "all"</span>
<span class="co">#&gt;       }, </span>
<span class="co">#&gt;       {</span>
<span class="co">#&gt;         "items": [</span>
<span class="co">#&gt;           "Why &lt;em&gt;WonderWidgets&lt;/em&gt; are great", </span>
<span class="co">#&gt;           "Who &lt;em&gt;buys&lt;/em&gt; WonderWidgets"</span>
<span class="co">#&gt;         ], </span>
<span class="co">#&gt;         "title": "Overview", </span>
<span class="co">#&gt;         "type": "all"</span>
<span class="co">#&gt;       }</span>
<span class="co">#&gt;     ], </span>
<span class="co">#&gt;     "title": "Sample Slide Show"</span>
<span class="co">#&gt;   }</span>
<span class="co">#&gt; }</span></code></pre></div>
<p>An HTTP response has a very similar structure to an HTTP request. The first line gives the version of HTTP used, and a status code followed by a short description. Then we have the headers, followed by a blank line, followed by a body. The majority of responses will have a body, unlike requests.</p>
<p>You can extract data from the response using the <code>resp_()</code> functions:</p>
<ul>
<li>
<p><code><a href="../reference/resp_status.html">resp_status()</a></code> returns the status code and <code><a href="../reference/resp_status.html">resp_status_desc()</a></code> returns the description:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">resp</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="../reference/resp_status.html">resp_status</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] 200</span>
<span class="va">resp</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="../reference/resp_status.html">resp_status_desc</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] "OK"</span></code></pre></div>
</li>
<li>
<p>You can extract all headers with <code><a href="../reference/resp_headers.html">resp_headers()</a></code> or a specific header with <code><a href="../reference/resp_headers.html">resp_header()</a></code>:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">resp</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="../reference/resp_headers.html">resp_headers</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; List of 6</span>
<span class="co">#&gt;  $ date                            : chr "Sat, 12 Jun 2021 05:04:53 GMT"</span>
<span class="co">#&gt;  $ content-type                    : chr "application/json"</span>
<span class="co">#&gt;  $ content-length                  : chr "429"</span>
<span class="co">#&gt;  $ server                          : chr "gunicorn/19.9.0"</span>
<span class="co">#&gt;  $ access-control-allow-origin     : chr "*"</span>
<span class="co">#&gt;  $ access-control-allow-credentials: chr "true"</span>
<span class="va">resp</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="../reference/resp_headers.html">resp_header</a></span><span class="op">(</span><span class="st">"Content-Length"</span><span class="op">)</span>
<span class="co">#&gt; [1] "429"</span></code></pre></div>
<p>Headers are case insensitive:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">resp</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="../reference/resp_headers.html">resp_header</a></span><span class="op">(</span><span class="st">"CoTtEnT-LeNgTH"</span><span class="op">)</span>
<span class="co">#&gt; NULL</span></code></pre></div>
</li>
<li>
<p>You can extract the body in various forms using the <code>resp_body_*()</code> family of functions. Since this response returns JSON we can use <code><a href="../reference/resp_body_raw.html">resp_body_json()</a></code>:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">resp</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="../reference/resp_body_raw.html">resp_body_json</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; List of 1</span>
<span class="co">#&gt;  $ slideshow:List of 4</span>
<span class="co">#&gt;   ..$ author: chr "Yours Truly"</span>
<span class="co">#&gt;   ..$ date  : chr "date of publication"</span>
<span class="co">#&gt;   ..$ slides:List of 2</span>
<span class="co">#&gt;   .. ..$ :List of 2</span>
<span class="co">#&gt;   .. .. ..$ title: chr "Wake up to WonderWidgets!"</span>
<span class="co">#&gt;   .. .. ..$ type : chr "all"</span>
<span class="co">#&gt;   .. ..$ :List of 3</span>
<span class="co">#&gt;   .. .. ..$ items:List of 2</span>
<span class="co">#&gt;   .. .. .. ..$ : chr "Why &lt;em&gt;WonderWidgets&lt;/em&gt; are great"</span>
<span class="co">#&gt;   .. .. .. ..$ : chr "Who &lt;em&gt;buys&lt;/em&gt; WonderWidgets"</span>
<span class="co">#&gt;   .. .. ..$ title: chr "Overview"</span>
<span class="co">#&gt;   .. .. ..$ type : chr "all"</span>
<span class="co">#&gt;   ..$ title : chr "Sample Slide Show"</span></code></pre></div>
</li>
</ul>
<p>Responses with status codes 4xx and 5xx are consider to be HTTP errors. httr2 automatically turns these into R errors:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/request.html">request</a></span><span class="op">(</span><span class="st">"https://httpbin.org/status/404"</span><span class="op">)</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="../reference/req_fetch.html">req_fetch</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Error: HTTP 404 Not Found.</span>
<span class="fu"><a href="../reference/request.html">request</a></span><span class="op">(</span><span class="st">"https://httpbin.org/status/500"</span><span class="op">)</span> <span class="op"><a href="../reference/%&gt;%.html">%&gt;%</a></span> <span class="fu"><a href="../reference/req_fetch.html">req_fetch</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Error: HTTP 500 Internal Server Error.</span></code></pre></div>
<p>This is another important difference with httr, which required that you explicitly call <code><a href="https://httr.r-lib.org/reference/stop_for_status.html">httr::stop_for_status()</a></code> to turn HTTP errors into R errors. If needed, you can revert to the httr behaviour with <code>req_error(req, is_error = ~ FALSE)</code>.</p>
</div>
<div id="controlling-the-request-process" class="section level2">
<h2 class="hasAnchor">
<a href="#controlling-the-request-process" class="anchor"></a>Controlling the request process</h2>
<p>A number of <code>req_</code> functions don’t directly affect how the request is sent but affect how it’s handled. I’m not going to go in to detail here, but wanted to make you aware of the options:</p>
<ul>
<li><p><code><a href="../reference/req_cache.html">req_cache()</a></code> sets up a cache so if repeated requests return the same results, you can avoid a trip to the server.</p></li>
<li><p><code><a href="../reference/req_throttle.html">req_throttle()</a></code> will automatically add a small delay before each request so you can avoid hammering a server with many requests.</p></li>
<li><p><code><a href="../reference/req_retry.html">req_retry()</a></code> sets up a retry strategy so that if the request either fails or you get a transient HTTP error, it’ll automatically retry after a short delay.</p></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://hadley.nz">Hadley Wickham</a>, <a href="https://www.rstudio.com"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
